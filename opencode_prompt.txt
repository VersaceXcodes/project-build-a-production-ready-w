REVIEWER: Cross-cutting product QA for request/response alignment and runtime stability

Context Summary:
{
  "projectId": "project-build-a-production-ready-w",
  "lastAccessed": "2025-12-26T19:27:54.237Z",
  "validationAttempts": 0,
  "commonIssues": [],
  "resolvedIssues": [],
  "dependencies": [],
  "missingDependencies": [],
  "knownFileCount": 0,
  "keyFindings": []
}

Project Structure:
FULL PROJECT STRUCTURE CONTEXT for Agent:
=====================================

Working Directory: /app

PROJECT DIRECTORIES:
/app
/app/.git
/app/.git/info
/app/.git/branches
/app/.git/hooks
/app/.git/refs
/app/.git/refs/heads
/app/.git/refs/tags
/app/.git/refs/remotes
/app/.git/objects
/app/.git/objects/pack
/app/.git/objects/info
/app/.git/logs
/app/.git/logs/refs
/app/backend
/app/exports
/app/vitereact
/app/vitereact/src
/app/vitereact/src/__create
/app/vitereact/src/assets


KEY PROJECT FILES:
/app/README.md
/app/backend/initdb.js
/app/backend/jest.config.ts
/app/backend/package.json
/app/backend/schema.ts
/app/backend/server.test.ts
/app/backend/server.ts
/app/backend/tsconfig.json
/app/exports/1766773609521.json
/app/exports/1766773944265.json
/app/exports/1766774201538.json
/app/exports/1766774234664.json
/app/exports/1766775041825.json
/app/exports/1766775047167.json
/app/exports/1766775429077.json
/app/exports/1766775431428.json
/app/exports/1766776238887.json
/app/exports/1766776238895.json
/app/exports/1766776240855.json
/app/exports/1766776336991.json
/app/exports/1766776337039.json
/app/exports/1766776480661.json
/app/exports/1766776480685.json
/app/exports/1766776482458.json
/app/exports/1766776589080.json
/app/exports/1766776589267.json
/app/exports/1766776591163.json
/app/exports/1766776595468.json
/app/exports/1766776595493.json
/app/exports/1766776596180.json
/app/exports/1766776596233.json
/app/exports/1766776597094.json
/app/exports/1766776597135.json
/app/exports/1766776597223.json
/app/exports/1766776597838.json
/app/exports/1766776598224.json
/app/exports/1766776598593.json
/app/exports/1766776598687.json
/app/exports/1766776599439.json
/app/exports/1766776604620.json
/app/exports/1766776604641.json
/app/exports/1766776605607.json
/app/exports/1766776615377.json
/app/exports/1766776615397.json
/app/exports/1766776616891.json
/app/exports/1766776628507.json
/app/exports/1766776628736.json
/app/exports/1766776629685.json
/app/exports/1766776630599.json
/app/exports/1766776630620.json


FRONTEND (vitereact) PACKAGE.JSON:
  Scripts: dev, build, lint, preview
  Dependencies: 65 packages
  DevDependencies: 16 packages
  Key Dependencies: @hookform/resolvers, @radix-ui/react-accordion, @radix-ui/react-alert-dialog, @radix-ui/react-aspect-ratio, @radix-ui/react-avatar, @radix-ui/react-checkbox, @radix-ui/react-collapsible, @radix-ui/react-context-menu, @radix-ui/react-dialog, @radix-ui/react-dropdown-menu

BACKEND PACKAGE.JSON:
  Scripts: start, build, dev, test, test:watch, test:coverage
  Dependencies: 15 packages
  Key Dependencies: @electric-sql/pglite, @types/bcryptjs, bcryptjs, cors, dotenv, express, jsonwebtoken, morgan, pg, ts-node

ROOT PACKAGE.JSON:
  Scripts: dev

BACKEND SCHEMA AVAILABLE:
  Location: /app/backend/schema.ts
  Size: 52900 characters
  Contains Zod schemas for type validation

BACKEND SERVER AVAILABLE:
  Location: /app/backend/server.ts
  Size: 76528 characters
  Contains actual API endpoints and implementations

PROTECTED DIRECTORIES (DO NOT MODIFY):
  - /app/vitereact/src/components/ui/** (UI library)
  - /app/node_modules/** (Dependencies)
  - /app/.git/** (Version control)



Your tasks:
1) Verify frontend->backend API request/response contracts match (paths, params, types). Fix mismatches (frontend or backend).
2) Detect and fix infinite loops/re-renders in React components (useEffect deps, React query, state mutations during render, runaway timers, polling without guards).
3) Detect and fix potential runtime/compile errors that cause blank/white screens (missing imports, undefined props/state, bad keys, invalid JSX, vite aliases, tsconfig paths, circular imports).
4) Ensure the SPA renders without console errors and key pages load.
5) For backend, coerce query params where appropriate (limit, offset, booleans) and relax/ default non-critical fields (e.g., search-history) to prevent 400s.
6) Test backend API endpoints with curl commands - verify server responds correctly and data matches frontend expectations:
   - Health check: curl -s http://localhost:3000/api/health
   - Auth endpoints: curl -X POST -H "Content-Type: application/json" -d '{"email":"test@example.com","password":"test123"}' http://localhost:3000/api/auth/login
   - GET endpoints: curl http://localhost:3000/api/users (or similar data endpoints)
   - Verify responses match frontend data structure expectations and db.sql schema
7) Test database connectivity and validate that API responses align with database schema in db.sql file.
8) Compare actual API response structures (from curl tests) with frontend data fetching code to ensure compatibility.

Important:
- Make minimal, targeted edits. Prefer z.coerce.number()/boolean() and sensible defaults over hard failures.
- Keep APIs under /api; static SPA via backend if configured.
- Use curl commands to test actual backend functionality before validating frontend integration.
- Fix any mismatches between database schema, backend responses, and frontend expectations.
- Output the code edits directly.
- Don't delete api endpoints
